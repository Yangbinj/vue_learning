<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>base promise</title>
    <script src="https://cdn.bootcss.com/jquery/3.5.1/jquery.js"></script>
</head>

<body>
    <div></div>
    <!-- <script src="js/jquery-3.2.1.js"></script> -->
    <script>
        // resolve作用是，将Promise对象的状态从“未完成”变为“成功”（即从 pending 变为 resolved），在异步操作成功时调用，并将异步操作的结果，作为参数传递出去；
        // reject作用是，将Promise对象的状态从“未完成”变为“失败”（即从 pending 变为 rejected），在异步操作失败时调用，并将异步操作报出的错误，作为参数传递出去。
        // promise有三个状态：
        // 1、pending[待定]初始状态
        // 2、fulfilled[实现]操作成功
        // 3、rejected[被否决]操作失败
        // 当promise状态发生改变，就会触发then()里的响应函数处理后续步骤；
        // promise状态一经改变，不会再变。
        // Promise对象的状态改变，只有两种可能：
        // 从pending变为fulfilled
        // 从pending变为rejected。
        // 这两种情况只要发生，状态就凝固了，不会再变了。

        // 作者：王云飞_小四_wyunfei
        // 链接：https://www.jianshu.com/p/1b63a13c2701
        // 来源：简书
        // 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
        new Promise(
            function (resolve, reject) {
                // 一段耗时的异步操作
                resolve('成功') // 数据处理完成
                // reject('失败') // 数据处理出错
            }
        ).then(
            (res) => { console.log(res, 'dd') },  // 成功
            (err) => { console.log(err) } // 失败
        )
        new Promise(
            resolve => {
                setTimeout(() => {
                    resolve('hello')
                }, 2000)
            },
            reject => {
                reject('fail');
            }).then(res => {
                console.log(res)
            }, err => {
                console.log(err);
        })
        new Promise(resolve => {
            setTimeout(() => {
                resolve('hello')
            }, 2000)
        }).then(val => {
            console.log(val) //  参数val = 'hello'
            return new Promise(resolve => {
                setTimeout(() => {
                    resolve('world')
                }, 2000)
            })
        }).then(val => {
            console.log(val) // 参数val = 'world'
        })    
    </script>
</body>

</html>